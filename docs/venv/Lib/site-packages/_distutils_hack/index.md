# Distutils Hack

[Kiwipreview Index](../../../../README.md#kiwipreview-index) /
`venv` /
`Lib` /
`site-packages` /
Distutils Hack

> Auto-generated documentation for [venv.Lib.site-packages._distutils_hack](../../../../../venv/Lib/site-packages/_distutils_hack/__init__.py) module.

- [Distutils Hack](#distutils-hack)
  - [DistutilsMetaFinder](#distutilsmetafinder)
    - [DistutilsMetaFinder().find_spec](#distutilsmetafinder()find_spec)
    - [DistutilsMetaFinder.frame_file_is_setup](#distutilsmetafinderframe_file_is_setup)
    - [DistutilsMetaFinder.is_cpython](#distutilsmetafinderis_cpython)
    - [DistutilsMetaFinder.pip_imported_during_build](#distutilsmetafinderpip_imported_during_build)
    - [DistutilsMetaFinder().spec_for_distutils](#distutilsmetafinder()spec_for_distutils)
    - [DistutilsMetaFinder().spec_for_pip](#distutilsmetafinder()spec_for_pip)
    - [DistutilsMetaFinder().spec_for_sensitive_tests](#distutilsmetafinder()spec_for_sensitive_tests)
  - [shim](#shim)
  - [add_shim](#add_shim)
  - [clear_distutils](#clear_distutils)
  - [do_override](#do_override)
  - [enabled](#enabled)
  - [ensure_local_distutils](#ensure_local_distutils)
  - [insert_shim](#insert_shim)
  - [remove_shim](#remove_shim)
  - [warn_distutils_present](#warn_distutils_present)
  - [Modules](#modules)

## DistutilsMetaFinder

[Show source in __init__.py:88](../../../../../venv/Lib/site-packages/_distutils_hack/__init__.py#L88)

#### Signature

```python
class DistutilsMetaFinder: ...
```

### DistutilsMetaFinder().find_spec

[Show source in __init__.py:89](../../../../../venv/Lib/site-packages/_distutils_hack/__init__.py#L89)

#### Signature

```python
def find_spec(self, fullname, path, target=None): ...
```

### DistutilsMetaFinder.frame_file_is_setup

[Show source in __init__.py:161](../../../../../venv/Lib/site-packages/_distutils_hack/__init__.py#L161)

Return True if the indicated frame suggests a setup.py file.

#### Signature

```python
@staticmethod
def frame_file_is_setup(frame): ...
```

### DistutilsMetaFinder.is_cpython

[Show source in __init__.py:132](../../../../../venv/Lib/site-packages/_distutils_hack/__init__.py#L132)

Suppress supplying distutils for CPython (build and tests).
Ref #2965 and #3007.

#### Signature

```python
@staticmethod
def is_cpython(): ...
```

### DistutilsMetaFinder.pip_imported_during_build

[Show source in __init__.py:150](../../../../../venv/Lib/site-packages/_distutils_hack/__init__.py#L150)

Detect if pip is being imported in a build script. Ref #2355.

#### Signature

```python
@classmethod
def pip_imported_during_build(cls): ...
```

### DistutilsMetaFinder().spec_for_distutils

[Show source in __init__.py:99](../../../../../venv/Lib/site-packages/_distutils_hack/__init__.py#L99)

#### Signature

```python
def spec_for_distutils(self): ...
```

### DistutilsMetaFinder().spec_for_pip

[Show source in __init__.py:140](../../../../../venv/Lib/site-packages/_distutils_hack/__init__.py#L140)

Ensure stdlib distutils when running under pip.
See pypa/pip#8761 for rationale.

#### Signature

```python
def spec_for_pip(self): ...
```

### DistutilsMetaFinder().spec_for_sensitive_tests

[Show source in __init__.py:169](../../../../../venv/Lib/site-packages/_distutils_hack/__init__.py#L169)

Ensure stdlib distutils when running select tests under CPython.

python/cpython#91169

#### Signature

```python
def spec_for_sensitive_tests(self): ...
```



## shim

[Show source in __init__.py:206](../../../../../venv/Lib/site-packages/_distutils_hack/__init__.py#L206)

#### Signature

```python
class shim: ...
```



## add_shim

[Show source in __init__.py:202](../../../../../venv/Lib/site-packages/_distutils_hack/__init__.py#L202)

#### Signature

```python
def add_shim(): ...
```



## clear_distutils

[Show source in __init__.py:28](../../../../../venv/Lib/site-packages/_distutils_hack/__init__.py#L28)

#### Signature

```python
def clear_distutils(): ...
```



## do_override

[Show source in __init__.py:68](../../../../../venv/Lib/site-packages/_distutils_hack/__init__.py#L68)

Ensure that the local copy of distutils is preferred over stdlib.

See https://github.com/pypa/setuptools/issues/417#issuecomment-392298401
for more motivation.

#### Signature

```python
def do_override(): ...
```



## enabled

[Show source in __init__.py:43](../../../../../venv/Lib/site-packages/_distutils_hack/__init__.py#L43)

Allow selection of distutils by environment variable.

#### Signature

```python
def enabled(): ...
```



## ensure_local_distutils

[Show source in __init__.py:51](../../../../../venv/Lib/site-packages/_distutils_hack/__init__.py#L51)

#### Signature

```python
def ensure_local_distutils(): ...
```



## insert_shim

[Show source in __init__.py:214](../../../../../venv/Lib/site-packages/_distutils_hack/__init__.py#L214)

#### Signature

```python
def insert_shim(): ...
```



## remove_shim

[Show source in __init__.py:218](../../../../../venv/Lib/site-packages/_distutils_hack/__init__.py#L218)

#### Signature

```python
def remove_shim(): ...
```



## warn_distutils_present

[Show source in __init__.py:9](../../../../../venv/Lib/site-packages/_distutils_hack/__init__.py#L9)

#### Signature

```python
def warn_distutils_present(): ...
```



## Modules

- [Override](./override.md)